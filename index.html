<!DOCTYPE HTML>
<!--
	Strata by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>奇怪 | Odd-Blog</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="#" class="image avatar"><img src="images/avatar.jpg" alt="" /></a>
					<h1><strong>I am HuangQiYong</strong><br />
					<br />
					<a href="http://html5up.net"></a>.</h1>
				</div>
			</header>

		<!-- Main -->
			<div id="main">
					
					

				<!-- Four -->
				
					<section id="four">
						<h2>NameNode 和 Secondary NameNode差别</h2>

						<section>
							<h4>组件作用</h4>
							<p>NameNode主要作用是存储源数据信息到hdfs上，可以加载在内存也可以写在HDFS上。NameNode重启时，会从一个fsimage文件中读取hdfs状态，然后接着文件里的edits操作，将hdfs返回fsimage文件中。
							<p>Secondary NameNode 不是NameNode的热备，是把NameNode对fsimage的编辑操作，放到Secondary NameNode节点处理。Secondary NameNode会自己定期合并fsimage文件的编辑日志，把文件需要合并的操作，控制在一定数量级别。Secondary NameNode 通常运行在单独的节点上。</p>
							<p>Secondary NameNode保存最新检查点的目录与NameNode的目录结构相同,NameNode重启之后可以直接读取Secondary NameNode的目录结构和检查点镜像。</p>
							<p>如果NameNode的历史检查点丢失，edits文件也都丢失了，NameNode可以引入这个最新的检查点。但需要配置hdfs的配置文件如下：</p>
							<p>1、dfs.name.dir设置个文件夹，集群上为：/opt/dfs/nn，也可以为空。</p>
							<p>2、文件系统检查点周期设置为1小时左右。确保要edit的操作在一定范围内。</p>
							<div><img src="images/Secondary NameNode/period.jpg" alt="" /></span></div>
							<p>3、HDFS 检查点目录 fs.checkpoint.dir, dfs.namenode.checkpoint.dir 设置为：/opt/dfs/snn</p>
							<div><img src="images/Secondary NameNode/dir.jpg" alt="" /></span></div>
							<p>4、启NameNode，启动命令行加上-importCheckpoint  ./hadoop-daemon.sh start namenode -importCheckpoint </p>

							</p>
							<hr />
							<h5>Code</h5>
							<pre>
								<code>i = 0
								</code>
							</pre>	
						</section>

						<section>
							<h4>Image</h4>
							<h5>Fit</h5>
							<div class="box alt">
								<div class="row gtr-50 gtr-uniform">
									<div class="col-12"><span class="image fit"><img src="images/fulls/05.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/01.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/02.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/03.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/04.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/05.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/06.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/03.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/02.jpg" alt="" /></span></div>
									<div class="col-4"><span class="image fit"><img src="images/thumbs/01.jpg" alt="" /></span></div>
								</div>
							</div>
							<h5>Left &amp; Right</h5>
							<p><span class="image left"><img src="images/avatar.jpg" alt="" /></span>Fringilla nisl. </p>
						</section>

					</section>
				

			</div>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<ul class="icons">
						<li><a href="https://twitter.com/home" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="https://github.com/Odd-qiguai" class="icon brands fa-github"><span class="label">Github</span></a></li>
						<li><a href="#"  class="icon solid fa-envelope"><span class="label">Email</span></a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; Untitled</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.poptrox.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script type="text/javascript" language="javascript">
				function over(){
				document.getElementById("contain").style.innerHTML="";
				}
				function out(){
				document.getElementById("contain").style.innerHTML="1";
				}
			</script>

	</body>
</html>